---
applications:
  - name: ops-backend
    env:
      OPS_CONFIG: environment/cloud/dev.py
    memory: 700M
    docker:
      image: ghcr.io/hhs/opre-ops/ops-backend:latest
    command: ./ops_api/deployed_run.sh

  - name: ops-data-tools
    env:
      ENV: cloudgov
    no-route: true
    memory: 700M
    docker:
      image: ghcr.io/hhs/opre-ops/ops-data-tools:latest
    command: ./data_tools/scripts/import_data.sh
    timeout: 90

  - name: ops-frontend
    memory: 700M
    disk_quota: 2G  # This is needed to ensure enough size to decompress the container.
    env:
      REACT_APP_BACKEND_DOMAIN: ops-api-sandbox.app.cloud.gov
    docker:
      image: ghcr.io/hhs/opre-ops/ops-frontend:latest

services:
 - ops-db
